<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Lesson: Active & Passive Voice ‚Äî Keynote Grammar</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
/* ---------- Reset & variables (minimal changes) ---------- */
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
:root{
  --header-h:64px;
  --footer-h:56px;
  --bg1:#001f3f; --bg2:#003c8f; --bg3:#004d99;
  --accent:#ffcc33;
  --soft-white-1: rgba(255,255,255,0.45);
  --soft-white-2: rgba(255,255,255,0.22);
}

/* PAGE FLOW: use natural document flow so scrolling works */
html,body{height:100%;width:100%}
body{
  min-height:100%;
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  color:#fff;

  padding-top:calc(var(--header-h) + 18px);

  /* increased space for bottom buttons */
  padding-bottom: calc(var(--footer-h) + 400px);

  display:block;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Floating background decorations (unchanged look) */
.blobs{position:fixed;inset:0;z-index:-3;pointer-events:none}
.blob{position:absolute;width:380px;height:380px;border-radius:40%;filter:blur(70px);opacity:0.32;mix-blend-mode:screen;animation:blobMove 14s infinite alternate ease-in-out}
.blob.b1{background:#ff6b6b;left:-8%;top:10%}
.blob.b2{background:#70a1ff;left:55%;top:30%;animation-duration:16s}
.blob.b3{background:#ffd166;left:25%;top:65%;animation-duration:18s}
@keyframes blobMove{0%{transform:translateY(0) scale(1)}100%{transform:translateY(-40px) scale(1.06)}}

.bubbles{position:fixed;inset:0;z-index:-2;overflow:hidden}
.bubble{position:absolute;border-radius:50%;background:rgba(255,255,255,0.09);animation:float 14s infinite ease-in-out}
@keyframes float{0%{transform:translateY(0)}50%{transform:translateY(-40px)}100%{transform:translateY(0)}}

/* header/footer (kept as original) */
header{
  position:fixed;top:0;left:0;width:100%;height:var(--header-h);
  display:flex;align-items:center;justify-content:space-between;
  padding:12px 20px;background:rgba(0,0,0,0.35);backdrop-filter:blur(8px);
  border-bottom:1px solid rgba(255,255,255,0.1);z-index:1200;
}
header h1{font-size:1.2rem;font-weight:600;color:#fff}
header nav{display:flex;gap:12px}
header nav a{color:#fff;font-weight:600;text-decoration:none;padding:6px 8px;border-radius:8px;transition:0.18s}
header nav a:hover{color:var(--accent)}

footer{
  position:fixed;bottom:0;left:0;width:100%;height:var(--footer-h);
  display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.35);
  backdrop-filter:blur(8px);border-top:1px solid rgba(255,255,255,0.1);color:#fff;font-size:0.9rem;z-index:1200;
}

/* main container - kept your layout and spacing */
.container{
  width:100%;max-width:1050px;margin:30px auto 240px;
  background:rgba(255,255,255,0.08);padding:32px;border-radius:18px;
  border:1px solid rgba(255,255,255,0.16);box-shadow:0 10px 35px rgba(0,0,0,0.55);backdrop-filter:blur(10px);
}

h1{text-align:center;color:var(--accent);margin-bottom:25px;font-size:2rem}
h2{color:var(--accent);margin-top:25px;margin-bottom:12px;font-size:1.3rem}
p, li{line-height:1.7;color:#eaf3ff;font-size:1rem}
ul{margin-left:20px;margin-top:8px}

/* original .section look preserved */
.section{display:flex;gap:20px;flex-wrap:wrap;background:rgba(255,255,255,0.04);padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.12);margin-top:22px}
.section-text{flex:1 1 60%;min-width:260px}

/* image box ‚Äî will glow on hover (only images) */
.img-box{width:260px;height:260px;border-radius:14px;overflow:hidden;background:#111;border:1px solid rgba(255,255,255,0.2)}
.img-box img{width:100%;height:100%;object-fit:cover;display:block}

/* table styles ‚Äî preserve your exact table look */
table{
  width:100%;margin-top:12px;background:rgba(255,255,255,0.05);border-collapse:collapse;border-radius:10px;overflow:hidden;
}
th,td{padding:12px;border-bottom:1px solid rgba(255,255,255,0.1);color:#eef6ff}
th{background:rgba(255,255,255,0.12);color:#ffeb80}

/* ---------- NEW: soft white glow for targeted elements ---------- */
/* Apply only to small boxes: .snake-target - will be added to tables, images, buttons, audio box */
.snake-target{position:relative;transition:all .20s ease;outline:none}
.snake-target .snake-svg{position:absolute;top:-8px;left:-8px;width:calc(100% + 16px);height:calc(100% + 16px);pointer-events:none;opacity:0;transition:opacity .22s ease}
.snake-target .snake-svg polyline{fill:none;stroke:#fff;stroke-width:3;stroke-dasharray:80 600;stroke-dashoffset:80;transition:stroke-dashoffset .85s ease}

/* hover/focus visual */
.snake-target:hover,
.snake-target:focus{
  background:#fff !important;
  color:#000 !important;
  transform:scale(1.02);
  border-color:#000 !important;
  box-shadow:
    0 0 18px var(--soft-white-1),
    0 0 38px var(--soft-white-2);
}
.snake-target:hover * ,
.snake-target:focus * { color:#000 !important; }

/* when hovered/focused show snake animation */
.snake-target:hover .snake-svg,
.snake-target:focus .snake-svg { opacity:1 }
.snake-target:hover .snake-svg polyline,
.snake-target:focus .snake-svg polyline { stroke-dashoffset:-600 }

/* For tables specifically: make the table block a snake-target by wrapping in .table-wrap */
.table-wrap{position:relative;overflow:visible;margin-top:12px;border-radius:8px}
.table-wrap table{border-radius:8px}

/* ensure rows still get subtle row hover inside white state */
.table-wrap table tr:hover td{ background: rgba(0,0,0,0.04); color:#000 !important; }

/* buttons ‚Äî also glow (you asked both to glow) */
.btns{text-align:center;margin-top:35px}
.btn{
  display:inline-block;padding:12px 24px;margin:8px;border-radius:999px;background:rgba(255,255,255,0.18);
  text-decoration:none;color:#fff;font-weight:700;transition:.25s;position:relative;
}
.btn:hover{ /* keep the existing pop but we also allow white glow via .snake-target */
  transform:translateY(-3px);
}

/* make .btn also glow when it has .snake-target */
.btn.snake-target:hover{ background:#fff !important; color:#000 !important; box-shadow:0 0 20px rgba(255,255,255,0.95); transform:scale(1.03) }

/* responsive */
@media(max-width:820px){
  .section{flex-direction:column}
  .img-box{width:100%;height:200px}
  .container{margin-bottom:260px}
}
</style>
</head>
<body>

<!-- decorative blobs & bubbles -->
<div class="blobs"><div class="blob b1"></div><div class="blob b2"></div><div class="blob b3"></div></div>
<div class="bubbles"><div class="bubble" style="left:5%;top:20%"></div><div class="bubble" style="left:75%;top:10%;width:150px;height:150px"></div><div class="bubble" style="left:45%;top:45%;width:100px;height:100px"></div></div>

<!-- header -->
<header>
  <h1>Grammar With Joy</h1>
  <nav>
    <a href="index.html">Home</a>

    <a href="quiz.html">Quizzes</a>
  </nav>
</header>

<!-- hover sound source (use same file name you used earlier) -->
<audio id="hoverSound" src="buttonhovering.mp3" preload="auto"></audio>

<div class="container">

  <h1>Active and Passive Voice</h1>

  <!-- AUDIO BOX (small) - will be a snake-target -->
  <div class="audio-box snake-target" data-en="activepassive_english.mp3" data-ta="activepassive_tamil.mp3" aria-label="Audio explanation (English/Tamil)">
    <!-- content injected by script -->
  </div>

  <!-- SECTION 1 -->
  <div class="section">
    <div class="section-text">
      <h2>1. What is Voice?</h2>
      <p>Voice shows whether the <strong>subject performs</strong> the action or <strong>receives</strong> the action.</p>

      <ul>
        <li><strong>Active Voice</strong> ‚Äì The subject performs the action.<br>
          <em>Example: The man broke the window.</em></li>

        <li style="margin-top:8px"><strong>Passive Voice</strong> ‚Äì The object receives the action.<br>
          <em>Example: The window was broken by the man.</em></li>
      </ul>
    </div>

    <!-- image box ‚Äî make it a snake-target so image glows -->
    <div class="img-box snake-target" aria-hidden="true">
      <img src="glass.gif" alt="Image 2">
      <!-- svg snake injected by JS -->
    </div>
  </div>

  <!-- SECTION 2 -->
  <div class="section">
    <div class="section-text">
      <h2>2. Uses of Passive Voice</h2>
      <p>We use the passive voice to give more importance to the <strong>object</strong> than the doer.</p>
      <p><em>Example: A delicious meal was cooked by him.</em></p>
    </div>

    <div class="img-box snake-target" aria-hidden="true">
      <img src="meal.gif" alt="Image 2">
    </div>
  </div>

  <!-- SECTION 3 -->
  <div class="section">
    <div class="section-text">
      <h2>3. Active vs Passive in Different Tenses</h2>

      <!-- Simple Present -->
      <h3 style="color:#ffdd55;margin-top:14px">a) Simple Present Tense</h3>

      <!-- table-wrap is snake-target and holds the table to avoid changing the internal table design -->
      <div class="table-wrap snake-target">
        <table>
          <tr><th>Form</th><th>Active Voice</th><th>Passive Voice</th></tr>
          <tr><td>Structure</td><td>Subject + base/-s form + object</td><td>Object + am/is/are + past participle</td></tr>
          <tr><td>Example 1</td><td>Tigers hunt deer.</td><td>Deer are hunted by tigers.</td></tr>
          <tr><td>Example 2</td><td>The students clean the garden.</td><td>The garden is cleaned by the students.</td></tr>
        </table>
      </div>

      <!-- Simple Past -->
      <h3 style="color:#ffdd55;margin-top:20px">b) Simple Past Tense</h3>
      <div class="table-wrap snake-target">
        <table>
          <tr><th>Form</th><th>Active Voice</th><th>Passive Voice</th></tr>
          <tr><td>Structure</td><td>Subject + past form + object</td><td>Object + was/were + past participle</td></tr>
          <tr><td>Example 1</td><td>The monkeys ate the bananas.</td><td>The bananas were eaten by the monkeys.</td></tr>
          <tr><td>Example 2</td><td>Thomas Edison invented the light bulb.</td><td>The light bulb was invented by Edison.</td></tr>
        </table>
      </div>

      <!-- Simple Future -->
      <h3 style="color:#ffdd55;margin-top:20px">c) Simple Future Tense</h3>
      <div class="table-wrap snake-target">
        <table>
          <tr><th>Form</th><th>Active Voice</th><th>Passive Voice</th></tr>
          <tr><td>Structure</td><td>Subject + will/shall + base verb + object</td><td>Object + will/shall + be + past participle</td></tr>
          <tr><td>Example 1</td><td>We will complete the project.</td><td>The project will be completed by us.</td></tr>
          <tr><td>Example 2</td><td>He will buy a new car.</td><td>A new car will be bought by him.</td></tr>
        </table>
      </div>

    </div>
  </div>

  <!-- BUTTONS (also glow when hovered) -->
  <div class="btns">
    <a class="btn snake-target" href="lesson18_video.html">üé¨ Watch Video</a>
    <a class="btn snake-target" href="png18.html">üß© Next</a>
    <a class="btn snake-target" href="topics.html">üè† Back to Topics</a>
  </div>

</div>

<footer>¬© 2025 Keynote Grammar ‚Äî Grammar With Joy</footer>

<!-- ---------- SCRIPT: audio builder, snake injection, hover sound ---------- -->
<script>
document.addEventListener('DOMContentLoaded', () => {

  /* Hover sound */
  const hoverSound = document.getElementById('hoverSound');
  function playHover() {
    if(!hoverSound) return;
    try { hoverSound.currentTime = 0; hoverSound.play().catch(()=>{}); } catch(e) {}
  }

  /* AUDIO BOX builder (EN / TA) */
  document.querySelectorAll('.audio-box').forEach(box => {
    const en = box.dataset.en || 'activepassive_english.mp3';
    const ta = box.dataset.ta || 'activepassive_tamil.mp3';

    box.innerHTML = `
      <div style="font-weight:700;color:var(--accent);margin-bottom:8px">Audio explanation</div>
      <div style="display:flex;gap:8px;margin-bottom:8px">
        <button class="lang-btn active" data-lang="en" style="flex:1;padding:8px;border-radius:8px;border:none;background:var(--accent);font-weight:700">English</button>
        <button class="lang-btn" data-lang="ta" style="flex:1;padding:8px;border-radius:8px;border:none;background:rgba(255,255,255,0.06);font-weight:700;color:#fff">Tamil</button>
      </div>
      <audio class="audioPlayer" controls preload="none" style="width:100%">
        <source src="${en}" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>
    `;

    const audio = box.querySelector('.audioPlayer');
    const src = audio.querySelector('source');
    box.querySelectorAll('.lang-btn').forEach(b => {
      b.addEventListener('click', () => {
        box.querySelectorAll('.lang-btn').forEach(x=>x.classList.remove('active'));
        b.classList.add('active');
        // visual swap
        box.querySelectorAll('.lang-btn').forEach(x => x.style.background = 'rgba(255,255,255,0.06)');
        b.style.background = (b.dataset.lang === 'en') ? 'var(--accent)' : 'var(--accent)';
        // change source
        src.src = (b.dataset.lang === 'en') ? en : ta;
        audio.load();
        // attempt play (user gesture may be required)
        audio.play().catch(()=>{});
      });
    });

    // add snake-target class to box so it glows
    box.classList.add('snake-target');
  });

  /* Insert snake SVG into every .snake-target (only once) */
  function injectSnake(target){
    if(!target || target.querySelector('.snake-svg')) return;
    const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
    svg.setAttribute('class','snake-svg');
    svg.setAttribute('viewBox','0 0 260 60');
    svg.setAttribute('preserveAspectRatio','none');
    svg.innerHTML = '<polyline points="0,0 260,0 260,60 0,60 0,0"></polyline>';
    // ensure non-static position so absolute svg positions correctly
    const cs = getComputedStyle(target);
    if(cs.position === 'static') target.style.position = 'relative';
    target.insertBefore(svg, target.firstChild);
  }

  // Apply to all targets (tables wrappers, images, buttons, audio box)
  document.querySelectorAll('.snake-target').forEach(el => {
    injectSnake(el);
    // pointerenter hover sound
    el.addEventListener('pointerenter', playHover);
    // keyboard focus -> same behaviour
    el.addEventListener('focus', playHover, {passive:true});
    // ensure focusable for non-interactive elements
    if(!el.hasAttribute('tabindex')) el.setAttribute('tabindex','0');
  });

  // add hover sound to header nav links too
  document.querySelectorAll('header nav a').forEach(a => a.addEventListener('pointerenter', playHover));
});
</script>

</body>
</html>
