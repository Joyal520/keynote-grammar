<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lesson 5: Demonstratives — Keynote Grammar</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  /* RESET & BASE */
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif}
  :root{
    --header-h:64px;
    --footer-h:56px;
    --glass-bg: rgba(255,255,255,0.08);
    --glass-border: rgba(255,255,255,0.12);
    --accent-gold:#ffd24d;
    --white:#ffffff;
  }
  html,body{height:100%}
  body{
    min-height:100vh;
    background: linear-gradient(135deg,#001f3f,#004d99);
    color:#fff;
    display:flex;flex-direction:column;align-items:center;
    padding-top: calc(var(--header-h) + 18px);
    padding-bottom: calc(var(--footer-h) + 18px);
    overflow-x:hidden;
  }

  /* Floating blobs (subtle) */
  .animation-bg{position:fixed;inset:0;z-index:-2;pointer-events:none;overflow:hidden}
  .circle{position:absolute;border-radius:50%;background:rgba(255,255,255,0.06);filter:blur(28px);animation:float 12s infinite ease-in-out;mix-blend-mode:screen;opacity:0.6}
  @keyframes float{0%{transform:translateY(0) scale(1)}50%{transform:translateY(-40px) scale(1.12)}100%{transform:translateY(0) scale(1)}}

  /* HEADER */
  header{
    position:fixed;inset:0 0 auto 0;height:var(--header-h);
    display:flex;align-items:center;justify-content:space-between;padding:12px 20px;
    background:rgba(0,0,0,0.35);backdrop-filter:blur(8px);
    border-bottom:1px solid rgba(255,255,255,0.08);z-index:1200;
  }
  header h1{font-size:1.05rem;font-weight:600;color:#fff;margin-left:6px}
  header nav{display:flex;gap:10px;align-items:center}
  header nav a{color:#fff;text-decoration:none;font-weight:500;padding:6px 8px;border-radius:6px;transition:color .18s}
  header nav a:hover{color:var(--accent-gold)}

  /* FOOTER */
  footer{
    position:fixed;inset:auto 0 0 0;height:var(--footer-h);display:flex;align-items:center;justify-content:center;
    background:rgba(0,0,0,0.32);backdrop-filter:blur(8px);border-top:1px solid rgba(255,255,255,0.06);
    color:#fff;font-size:0.9rem;z-index:1200;padding:0 10px;
  }

  /* MAIN CONTAINER */
  main{width:100%;display:flex;justify-content:center;padding:18px 12px 28px}
  .container{
    width:100%;max-width:980px;background:var(--glass-bg);padding:26px;border-radius:14px;
    border:1px solid var(--glass-border);box-shadow:0 10px 30px rgba(0,0,0,0.45);backdrop-filter:blur(10px);
  }

  .title{ text-align:center; margin-bottom:6px }
  .title h1{color:var(--accent-gold);font-size:1.9rem;margin-bottom:8px}
  .title p{color:#dfeefe;margin-bottom:12px}

  /* AUDIO BOX (placed under title) */
  .audio-box{margin:12px auto 18px;max-width:720px;background:rgba(255,255,255,0.04);padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06)}
  .audio-title{color:var(--accent-gold);font-weight:700;margin-bottom:8px}
  .lang-select{display:flex;gap:10px;margin-bottom:10px}
  .lang-btn{flex:1;padding:8px;border-radius:8px;background:rgba(255,255,255,0.06);border:none;color:#fff;font-weight:700;cursor:pointer}
  .lang-btn.active{background:var(--accent-gold);color:#000}

  /* Content */
  h2{color:var(--accent-gold);margin:16px 0;font-size:1.3rem}
  p, .tip p{line-height:1.7;color:#e0e6ef;font-size:1.05rem}

  .tip{background:rgba(255,255,255,0.04);padding:14px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);margin-bottom:18px}

  /* image card grid */
  .image-card{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin:18px 0}
  .image-block{
    background:rgba(255,255,255,0.03);
    border-radius:14px;padding:12px;border:1px solid rgba(255,255,255,0.06);
    transition:transform .18s, box-shadow .18s, background .18s;
    position:relative;overflow:visible;
  }
  .image-block img{
    width:100%;
    height:auto;
    max-height:360px; /* adjust the limit as you wish */
    object-fit:contain;
    border-radius:12px;
    border:3px solid rgba(255,255,255,0.12);
    display:block;
}

  .image-block p{margin-top:12px;font-weight:600;color:#e8f4ff;text-align:center}

  /* buttons */
  .footer-buttons{text-align:center;margin:26px 0 12px}
  .btn{display:inline-block;padding:12px 22px;border-radius:28px;background:rgba(255,255,255,0.12);color:#fff;text-decoration:none;font-weight:600;border:1px solid rgba(255,255,255,0.12);min-width:140px;text-align:center;position:relative;overflow:hidden;transition:transform .18s, background .18s}
  .btn:active{transform:translateY(1px)}

  /* NEON SNAKE SVG (white-only) - hidden by default, shown on hover */
  .snake-svg{
  position:absolute;
  top:0;
  left:0;
  width:100%;
  height:100%;
  pointer-events:none;
  opacity:0;
  transition:opacity .18s ease;
}

.snake-svg polyline{
  fill:transparent;
  stroke:var(--white);
  stroke-width:2.2;
  stroke-dasharray:30 300;
  stroke-dashoffset:30;
  transition:stroke-dashoffset .75s ease-in-out;
}

  /* show snake + animate on hover for elements that get the snake */
  .with-snake:hover .snake-svg{opacity:1}
  .with-snake:hover .snake-svg polyline{stroke-dashoffset:-460}

  /* WHITE GLOW for all cards, examples, audio, image-block, and force inner text black */
  .card-like,
  .image-block,
  .audio-box,
  .btn {
    /* base states are handled above */
  }

  .card-like:hover,
.image-block:hover,
.audio-box:hover,
.btn:hover {
    background: rgba(255,255,255,0.85) !important;
    color: #000 !important;
    border-color: rgba(255,255,255,0.85) !important;
    transform: scale(1.02);
    box-shadow:
        0 0 6px rgba(255,255,255,0.35),
        0 0 12px rgba(255,255,255,0.25);
}

  .card-like:hover *, .image-block:hover *, .audio-box:hover *, .btn:hover * { color:#000 !important; }

  /* make image-block behave as 'with-snake' target too */
  .image-block.with-snake:hover img { filter: none; }

  /* responsive */
  @media(max-width:980px){ .image-card{grid-template-columns:1fr} .image-block img{height:240px} }
  @media(max-width:520px){
    :root{--header-h:56px;--footer_h:56px}
    body{padding-top:calc(var(--header-h)+10px);padding-bottom:calc(var(--footer-h)+10px)}
    .container{padding:16px}
    .image-block img{height:180px}
    .title h1{font-size:1.4rem}
    .btn{min-width:120px;padding:10px 12px}
  }

  /* safety */
  img, table, .container {max-width:100%;box-sizing:border-box}
</style>
</head>
<body>

  <!-- Floating subtle blobs -->
  <div class="animation-bg" aria-hidden="true">
    <div class="circle" style="width:160px;height:160px;left:6%;top:18%;animation-delay:0s"></div>
    <div class="circle" style="width:220px;height:220px;left:62%;top:58%;animation-delay:3s"></div>
    <div class="circle" style="width:120px;height:120px;left:82%;top:8%;animation-delay:6s"></div>
    <div class="circle" style="width:180px;height:180px;left:28%;top:78%;animation-delay:1.5s"></div>
  </div>

  <!-- Hover sound -->
  <audio id="hoverSound" src="buttonhovering.mp3" preload="auto"></audio>

  <header>
    <h1>Grammar With Joy</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="topics.html">Topics</a>
    </nav>
  </header>

  <main>
    <div class="container" role="main" aria-labelledby="lesson-title">

      <div class="title">
        <h1 id="lesson-title">Lesson 5: Demonstratives</h1>
        <p>Demonstratives point to things: this / these (near) — that / those (far). Which one?</p>
      </div>

      <!-- AUDIO BOX (placed under title) -->
      <div class="audio-box with-snake" data-en="demonstratives_english.mp3" data-ta="demonstratives_tamil.mp3" aria-label="Audio explanation"></div>

      <p style="margin-top:8px">They tell us if something is <strong>near</strong> or <strong>far</strong> from the speaker. Use <strong>this/these</strong> for near, <strong>that/those</strong> for far.</p>

      <!-- Image grid (image-block gets snake border when hovered - C) -->
      <div class="image-card" aria-live="polite">
        <div class="image-block with-snake" tabindex="0">
          <img src="butterfly.png" alt="This - near singular">
          <p>This is a beautiful butterfly. (near + singular)</p>
        </div>

        <div class="image-block with-snake" tabindex="0">
          <img src="books.png" alt="These - near plural">
          <p>These are new books. (near + plural)</p>
        </div>

        <div class="image-block with-snake" tabindex="0">
          <img src="garden.png" alt="That - far singular">
          <p>That is a beautiful garden. (far + singular)</p>
        </div>

        <div class="image-block with-snake" tabindex="0">
          <img src="bees.png" alt="Those - far plural">
          <p>Those are bees. (far + plural)</p>
        </div>
      </div>

      <h2>Quick Rule</h2>
      <div class="tip with-snake" tabindex="0">
<p>
  <span style="color:var(--accent-gold)">Near:</span> this / these<br><br>
  <span style="color:var(--accent-gold)">Far:</span> that / those<br><br>
  <span style="color:var(--accent-gold)">1 item:</span> this / that &nbsp;&nbsp;
  <span style="color:var(--accent-gold)">Many:</span> these / those<br><br>
  <span style="color:var(--accent-gold)">Tip:</span> Use “this/these” when you can touch it; use “that/those” when you cannot.
</p>

      </div>

      <div class="footer-buttons" style="margin-top:22px">
        <a href="lesson5_video.html" class="btn neon-snake with-snake" aria-label="Watch video">Watch Video</a>
        <a href="png5.html" class="btn neon-snake with-snake" aria-label="Start quiz">Next</a>
        <a href="topics.html" class="btn neon-snake with-snake" aria-label="Back to topics">Back to Topics</a>
      </div>

      <div style="height:8px"></div>
      <div class="footer" style="margin-top:26px">© 2025 Keynote Grammar • Learn English with Joy</div>

    </div>
  </main>

  <footer aria-hidden="true">&nbsp;</footer>

  <!-- SCRIPTS: audio builder, snake injector, hover sound binding -->
  <script>
  (function(){
    document.addEventListener('DOMContentLoaded', () => {

      /* ---------- AUDIO COMPONENT (auto-build) ---------- */
      const audioBoxes = document.querySelectorAll('.audio-box');
      audioBoxes.forEach(box => {
        const en = box.dataset.en || 'demonstratives_english.mp3';
        const ta = box.dataset.ta || 'demonstratives_tamil.mp3';

        box.innerHTML = `
          <div class="audio-title">Audio explanation</div>
          <div class="lang-select" role="tablist" aria-label="Audio language selector">
            <button class="lang-btn active" data-lang="en" role="tab" aria-selected="true">English</button>
            <button class="lang-btn" data-lang="ta" role="tab" aria-selected="false">Tamil</button>
          </div>
          <audio class="audioPlayer" controls preload="none" aria-label="Lesson audio">
            <source src="${en}" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        `;

        const audio = box.querySelector('.audioPlayer');
        const src = audio.querySelector('source');
        const langBtns = box.querySelectorAll('.lang-btn');

        langBtns.forEach(b => b.addEventListener('click', () => {
          langBtns.forEach(x => { x.classList.remove('active'); x.setAttribute('aria-selected','false'); });
          b.classList.add('active'); b.setAttribute('aria-selected','true');
          const lang = b.dataset.lang;
          src.src = (lang === 'en') ? en : ta;
          audio.load();
          audio.play().catch(()=>{/* autoplay may be blocked */});
        }));
      });

      /* ---------- SNAKE SVG INJECTION for elements with .with-snake ---------- */
      const snakeTargets = document.querySelectorAll('.with-snake');
      snakeTargets.forEach(el => {
        if (el.querySelector('.snake-svg')) return; // avoid duplicates
        const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
        svg.setAttribute('class','snake-svg');
svg.setAttribute('viewBox','0 0 100 100');
svg.setAttribute('preserveAspectRatio','none');
svg.innerHTML = '<polyline points="0,0 100,0 100,100 0,100 0,0"></polyline>';

        // Insert as first child so it overlays cleanly
        el.style.position = el.style.position || 'relative';
        el.insertBefore(svg, el.firstChild);
      });

      /* ---------- NEON SNAKE FOR NAV BUTTONS (btn.neon-snake) ---------- */
      const neonButtons = document.querySelectorAll('.btn.neon-snake');
      neonButtons.forEach(btn => {
        if (btn.querySelector('.snake-svg')) return;
        const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
        svg.setAttribute('class','snake-svg');
        svg.setAttribute('viewBox','0 0 260 60');
        svg.setAttribute('preserveAspectRatio','none');
        svg.innerHTML = '<polyline points="0,0 260,0 260,60 0,60 0,0"></polyline>';
        btn.style.position = btn.style.position || 'relative';
        btn.insertBefore(svg, btn.firstChild);
      });

      /* ---------- HOVER SOUND ---------- */
      const hover = document.getElementById('hoverSound');
      function playHover() {
        if(!hover) return;
        try{ hover.currentTime = 0; hover.play().catch(()=>{}); } catch(e){}
      }
      // Attach hover sound to interactive targets
      const hoverTargets = document.querySelectorAll('.with-snake, .btn, header nav a');
      hoverTargets.forEach(el => el.addEventListener('pointerenter', playHover));

      /* Accessibility: keyboard focus shows hover state for keyboard users */
      const focusTargets = document.querySelectorAll('.with-snake, .btn');
      focusTargets.forEach(el => {
        el.addEventListener('focus', () => el.classList.add('keyboard-focus'), {passive:true});
        el.addEventListener('blur', () => el.classList.remove('keyboard-focus'), {passive:true});
      });

      /* Prevent accidental horizontal overflow on iOS */
      setTimeout(()=>{ document.documentElement.style.width = '100%'; }, 50);
    });
  })();
  </script>

</body>
</html>
